\section{Testing}
\subsection{Acceptance Criteria}
% Section outline
% Overall summary of section, list of deliverables
Acceptance criteria for this project will be broken into 5 major categories: Joints, End effector, Base, Software application, Code library

\subsubsection{Joint Board}
\begin{itemize}
	\item Receive initialization information and joint angles from base
	\item Moves joint to angles
	\item Send position updates back to base
	\item Pass power and signal buses
	\item Capable of powering logic without powering motors
	\item Control board is the same for each joint
	\item Hold CAN Auto-Terminate Circuit
\end{itemize}

\subsubsection{Modify RBE3001 Arm}
\begin{itemize}
	\item Remove control system and replace with our own 
	\item Add a link to the existing arm
	\item Replace currently implemented servo motors with brushed DC motors
\end{itemize}

\subsubsection{End Effector}
\begin{itemize}
	\item Receives power and signal buses
	\item Keyed connection
	\item One input connector
	\item Terminate CAN bus
	\item Uses a joint board
\end{itemize}

\subsubsection{Base}
\begin{itemize}
	\item Sends and receives joint angles to/from Personal Computer (PC)
	\item Receives initialization information from PC, then sends it to all joints on signal bus
	\item Outputs power and signal buses
	\item Converts AC wall power to system power bus
	\item Power supply and arm on/off switch
	\item Capable of powering logic without powering motors
	\item Array of indicator LEDs
	\item Terminate CAN Bus
\end{itemize}

\subsubsection{Software Application}
\begin{itemize}
	\item Sends configuration information to the Code Library
	\item Sends individual joint angles or pose commands to robot through the Code Library
	\item GUI to adjust current arm configuration parameters
	\item Record and play back sequence of poses
	\item Acts as a front-end for code library
	\item Stretch goal: 3D model of arm moving in real-time
\end{itemize}

\subsubsection{Code Library}
\begin{itemize}
	\item Receive configuration information from user, selects control constants, sends to base
	\item Able to control the robot: Receive joint status, send joint angles
	\item Calculate joint angles using kinematics
	\item Stretch Goal: Written so that it can interface with multiple languages
\end{itemize}

\subsection{Motor Driver}
In order to determine whether the performance of the motor driver was dependent on input frequency or other factors, the input frequency was increased again from 200Hz to 10kHz. This time, the motor performed much better than previous times where it stayed at a constant RPM at different frequencies. The RPM actually increased with an increase in frequency, as can be seen in Table \ref{tbl:freq-test}. With this in mind, we decided to use a PWM frequency of 1KHz as a compromise between the higher resolution that comes about from lower frequencies (there are more timer counts between periods) and the higher rotation speed that would come from a high-frequency PWM system according Table \ref{tbl:freq-test}.

%insert table of input frequency vs motor rpm
\begin{table}[H]
	\centering
	\caption{PWM frequency input at 50\% duty cycle vs motor speed}
	\begin{tabular}{| c | c |}
		\hline
		PWM Frequency (Hz) & Motor RPM (rpm) \\
		\hline
		200 & 80 \\
		400 & 79 \\
		1k & 81 \\
		2k & 82 \\
		5k & 86 \\
		10k & 90 \\
		\hline
	\end{tabular}
	\label{tbl:freq-test}
\end{table}


%\subsection{Demultiplexer}
%
%\subsection{INA332}
%In order to generate a small input voltage to the amplifier, a potentiometer was used with a larger resistor in series, creating a variable voltage divider. To create the small input voltage necessary, a 100k$\Omega$ resistor and a 1k$\Omega$ potentiometer were used. With the configuration given in \ref{sec:meth-ina332}, the expected
%
%\subsection{TM4C123}
%Several peripherals were needed to achieve the desired functionality from our microcontroller. A test board was set up in order to test and verify that each of these peripherals was setup properly and working as expected. The test board consisted of a potentiometer connected to an ADC pin, an SPI controlled ADC (MCP3202), the 1:2 demultiplexer (SN74LVC1G18), CAN transceiver (TC332), and some LEDs.
%
%As a temporary stand in for the AS5055 absolute Hall effect encoder to test the SSI peripheral, a MCP3202 12-bit, 2 channel ADC was used. Both devices use SPI to communicate their sensor data back to the MCU, and the packets are similar in structure. Some differences between the two that can be changed are a maximum sample rate for the AS5055 of ~1ms as opposed to the few SCLK cycle delays for the MCP3202. The AS5055 has a maximum SCLK frequency of up to 10MHz at 3.3V while the MCP3202 has a limit of 900kHz at 3.3V.
%
%The potentiometer was connected to PB? which was enabled at AIN3. The ADC was set to sample at 1kHz with hardware oversampling 16x enabled.
%\subsection{Hall Effect Encoder}
%\subsection{CAN Bus}
%Initial CAN testing consisted of
