\section{Testing}
\subsection{Acceptance Criteria}
% Section outline
% Overall summary of section, list of deliverables
Acceptance criteria for this project will be broken into 5 major categories: Joints, End effector, Base, Software application, Code library

\subsubsection{Joint Board}
\begin{itemize}
	\item Receive initialization information and joint angles from base
	\item Moves joint to angles
	\item Send position updates back to base
	\item Pass power and signal buses
	\item Capable of powering logic without powering motors
	\item Control board is the same for each joint
\end{itemize}

\subsubsection{Modify RBE3001 Arm}
\begin{itemize}
	\item Remove control system and replace with our own 
	\item Add a link to the existing arm
	\item Replace currently implemented servo motors with brushed DC motors
\end{itemize}

\subsubsection{End Effector}
\begin{itemize}
	\item Receives power and signal buses
	\item Keyed connection
	\item One input connector
	\item Terminate CAN bus
	\item Uses a joint board
\end{itemize}

\subsubsection{Base}
\begin{itemize}
	\item Sends and receives joint angles to/from Personal Computer (PC)
	\item Receives initialization information from PC, then sends it to all joints on signal bus
	\item Outputs power and signal buses
	\item Converts AC wall power to system power bus
	\item Power supply and arm on/off switch
	\item Capable of powering logic without powering motors
	\item Array of indicator LEDs
\end{itemize}

\subsubsection{Software Application}
\begin{itemize}
	\item Sends configuration information to the Code Library
	\item Sends individual joint angles or pose commands to robot through the Code Library
	\item GUI to adjust current arm configuration parameters
	\item Record and play back sequence of poses
	\item Acts as a front-end for code library
	\item Stretch goal: 3D model of arm moving in real-time
\end{itemize}

\subsubsection{Code Library}
\begin{itemize}
	\item Receive configuration information from user, selects control constants, sends to base
	\item Able to control the robot: Receive joint status, send joint angles
	\item Calculate joint angles using kinematics
	\item Stretch Goal: Written so that it can interface with multiple languages
\end{itemize}

\subsection{Motor Driver}
In order to determine whether the performance of the motor driver was dependent on input frequency or other factors, the input frequency was increase again from 200Hz to 10kHz. This time, the motor performed much better. The RPM actually increased with an increase in frequency, as can be seen in Table .
%insert table of input frequency vs motor rpm
\begin{table}[H]
	\centering
	\caption{PWM frequency input at 50\% duty cycle vs motor speed}
	\begin{tabular}{| c | c |}
		\hline
		PWM Frequency (Hz) & Motor RPM (rpm) \\
		\hline
		200 & 80 \\
		400 & 79 \\
		1k & 81 \\
		2k & 82 \\
		5k & 86 \\
		10k & 90 \\
		\hline
	\end{tabular}
	\label{tbl:freq-test}
\end{table}

\subsection{DC Motor}

The performance of a DC motor can be characterized by measuring several key values: the stall torque, the stall current, the free running RPM, and the free running current. It's important that all the values be measured when the motor is given the same input voltage.\\
\\
\noindent
Voltage: 8.4V \\
Stall torque: 32.3 kg cm stall \\
Stall current: 5.25 A stall \\
Free running RPM: 0.1 seconds/60 degrees (100 rpm) \\
Free running current: 0.23 A \\



\begin{table}[ht]
	\centering
	\resizebox{\textwidth}{!}{
\begin{tabular}{ccccccccc}

Speed (RPM) & Torque (N-m) & Torque (in-lbf) & Current (A) & Pout (W) & Efficiency & Pin (W) & Heat (W) & back-EMF (V) \\

0 & 3.16 & 27.98 & 5.25 & 0 & 0 & 44.1 & 44.1 & 0 \\

7 & 2.94 & 26.02 & 4.9 & 2.15 & 5.24 & 41.15 & 38.99 & 0.56 \\

13 & 2.75 & 24.34 & 4.6 & 3.74 & 9.69 & 38.62 & 34.87 & 1.04 \\

20 & 2.53 & 22.38 & 4.25 & 5.3 & 14.85 & 35.67 & 30.37 & 1.61 \\

27 & 2.31 & 20.42 & 3.89 & 6.52 & 19.94 & 32.71 & 26.19 & 2.17 \\

33 & 2.12 & 18.74 & 3.59 & 7.32 & 24.24 & 30.18 & 22.87 & 2.65 \\

40 & 1.9 & 16.79 & 3.24 & 7.94 & 29.17 & 27.23 & 19.29 & 3.21 \\

47 & 1.68 & 14.83 & 2.89 & 8.24 & 33.96 & 24.28 & 16.04 & 3.78 \\

53 & 1.49 & 13.15 & 2.59 & 8.24 & 37.9 & 21.75 & 13.51 & 4.26 \\

60 & 1.26 & 11.19 & 2.24 & 7.94 & 42.25 & 18.8 & 10.86 & 4.82 \\

67 & 1.04 & 9.23 & 1.89 & 7.32 & 46.18 & 15.85 & 8.53 & 5.38 \\

73 & 0.85 & 7.55 & 1.59 & 6.52 & 48.99 & 13.32 & 6.79 & 5.86 \\

80 & 0.63 & 5.6 & 1.23 & 5.3 & 51.09 & 10.37 & 5.07 & 6.43 \\

87 & 0.41 & 3.64 & 0.88 & 3.74 & 50.49 & 7.41 & 3.67 & 6.99 \\

93 & 0.22 & 1.96 & 0.58 & 2.15 & 44.12 & 4.88 & 2.73 & 7.47 \\

100 & 0 & 0 & 0.23 & 0 & 0 & 1.93 & 1.93 & 8.03 \\

\end{tabular}}

\end{table}

\subsection{Demultiplexer}

\subsection{INA332}
In order to generate a small input voltage to the amplifier, a potentiometer was used with a larger resistor in series, creating a variable voltage divider. To create the small input voltage necessary, a 100k$\Omega$ resistor and a 1k$\Omega$ potentiometer were used. With the configuration given in \ref{sec:meth-ina332}, the expected 

\subsection{TM4C123}
Several peripherals were needed to achieve the desired functionality from our microcontroller. A test board was set up in order to test and verify that each of these peripherals was setup properly and working as expected. The test board consisted of a potentiometer connected to an ADC pin, an SPI controlled ADC (MCP3202), the 1:2 demultiplexer (SN74LVC1G18), CAN transceiver (TC332), and some LEDs.

As a temporary stand in for the AS5055 absolute hall effect encoder to test the SSI peripheral, a MCP3202 12-bit, 2 channel ADC was used. Both devices use SPI to communicate their sensor data back to the MCU, and the packets are similar in structure. Some differences between the two that can be changed are a maximum sample rate for the AS5055 of ~1ms as opposed to the few SCLK cycle delays for the MCP3202. The AS5055 has a maximum SCLK frequency of up to 10MHz at 3.3V while the MCP3202 has a limit of 900kHz at 3.3V. 

The potentiometer was connected to PB? which was enabled at AIN3. The ADC was set to sample at 1kHz with hardware oversampling 16x enabled. 
\subsection{Hall Effect Encoder}
\subsection{CAN Bus}
Initial CAN testing consisted of 
